#:kivy 2.0.0
#:import Animation kivy.animation.Animation

ScreenManager:
    WelcomeScreen:

<WelcomeScreen@Screen>:
    name: "welcomeScreen"

    canvas.before:
        Rectangle:
            source: 'Images/Background.png'
            pos: self.pos
            size: self.size

    Label:
        id: notificationLabel
        text: ''
        font_size: self.height * 0.5
        bold: True
        color: (1, 1, 1, 1)
        size_hint: (None, None)
        size: (self.texture_size[0] + 40, 50)
        pos_hint: {'center_x': 0.5, 'top': 0.95}
        opacity: 0
        canvas.before:
            Color:
                rgba: (0, 0, 0, 0.8)
            RoundedRectangle:
                pos: self.pos
                size: self.size
                radius: [10]

    Label:
        id: versionLabel
        text: 'v1.0.0'
        font_size: self.height * 0.05
        bold: True
        color: (1, 1, 1, 1)
        size_hint: (1, 0.5)
        text_size: self.size
        size: (self.texture_size[0] + 40, 50)
        pos_hint: {'x': 0.02, 'y': 0.02}

    FloatLayout:
        # Title and buttons container
        BoxLayout:
            orientation: 'horizontal'
            spacing: 0
            size_hint: (0.8, None)
            height: self.width * 0.176
            pos_hint: {'center_x': 0.5, 'center_y': 0.5}

            BoxLayout:
                orientation: 'vertical'
                spacing: 0
                size_hint_x: 0.667
                # Title
                Label:
                    text: '[size=' + str(int(self.height * 0.5)) + ']221[/size][size=' + str(int(self.height * 0.3)) + ']B[/size][size=' + str(int(self.height * 0.5)) + '] Baker Street[/size]'
                    markup: True
                    font_size: self.height * 0.6
                    bold: True
                    color: (0.749, 0.659, 0.427, 1)
                    size_hint: (1, 0.5)
                    halign: 'center'
                    valign: 'center'
                    text_size: self.size
                    padding: (0, 0)
                    canvas.before:
                        Color:
                            rgba: (0, 0, 0, 0.7)
                        Rectangle:
                            pos: self.pos
                            size: self.size
                    canvas.after:
                        Color:
                            rgba: (0, 0, 0, 1)
                        Line:
                            rectangle: (*self.pos, *self.size)
                            width: 2

                # Menu buttons container
                BoxLayout:
                    orientation: 'horizontal'
                    spacing: 0
                    size_hint: (1, 0.5)

                    # Customise button
                    HoverButton:
                        id: customiseButton
                        text: 'Customise'
                        font_size: self.height * 0.28
                        bold: True
                        color: (0.749, 0.659, 0.427, 1)
                        background_normal: ''
                        background_color: (0, 0, 0, 0.7)
                        size_hint_x: 0.5
                        on_enter:
                            Animation(size_hint_x=0.52, font_size=self.height * 0.40, d=0.2).start(self)
                        on_leave:
                            Animation(size_hint_x=0.5, font_size=self.height * 0.28, d=0.2).start(self)
                        canvas.after:
                            Color:
                                rgba: (0, 0, 0, 1)
                            Line:
                                rectangle: (*self.pos, *self.size)
                                width: 2

                    # Settings button
                    HoverButton:
                        id: settingsButton
                        text: 'Settings'
                        font_size: self.height * 0.28
                        bold: True
                        color: (0.749, 0.659, 0.427, 1)
                        background_normal: ''
                        background_color: (0, 0, 0, 0.7)
                        size_hint_x: 0.5
                        on_enter:
                            Animation(size_hint_x=0.52, font_size=self.height * 0.40, d=0.2).start(self)
                        on_leave:
                            Animation(size_hint_x=0.5, font_size=self.height * 0.28, d=0.2).start(self)
                        canvas.after:
                            Color:
                                rgba: (0, 0, 0, 1)
                            Line:
                                rectangle: (*self.pos, *self.size)
                                width: 2

            # Create Game button with arrow
            HoverButton:
                id: createGameButton
                text: 'CREATE\nGAME  >'
                font_size: self.height * 0.28
                bold: True
                color: (0.749, 0.659, 0.427, 1)
                background_normal: ''
                background_color: (0, 0, 0, 0.7)
                size_hint_x: 0.333
                on_release:
                    root.manager.current = "gameScreen"
                on_enter:
                    Animation(size_hint_x=0.35, font_size=self.height * 0.40, d=0.2).start(self)
                on_leave:
                    Animation(size_hint_x=0.333, font_size=self.height * 0.28, d=0.2).start(self)
                canvas.after:
                    Color:
                        rgba: (0, 0, 0, 1)
                    Line:
                        rectangle: (*self.pos, *self.size)
                        width: 2
    Label:
        id: gameDescriptionLabel
        text: 'Don your deerstalker, put a match to your cherry-wood pipe and prepare to solve 75 riveting Sherlock Holmes cases.'
        font_size: root.height * 0.035
        bold: True
        color: (0.749, 0.659, 0.427, 1)
        size_hint: (0.8, 0.1)
        text_size: self.size
        pos_hint: {'center_x': 0.5, 'top': 0.35}
        halign: 'center'
        valign: 'center'
        opacity: 1
